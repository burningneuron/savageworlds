define(["jquery","backbone","views/ListView","text!templates/characterListView.html","views/CharacterSummaryView","Backbone.Marionette"],function(e,t,n,r,i){var s=t.View.extend({childView:i,template:r,initialize:function(e){this.listView=new n({childView:i,collection:e.collection,router:e.router}),this.collection=e.collection,this.router=e.router},close:function(){this.remove(),this.unbind()},events:{"click a#name":"sortByName","click a#setting":"sortBySetting","click a#system":"sortBySystem","click a#addCharacter":"addCharacter"},sortByName:function(){this.collection.comparator="name",this.collection.sort()},sortBySetting:function(){this.collection.comparator="setting",this.collection.sort()},sortBySystem:function(){this.collection.comparator="system",this.collection.sort()},addCharacter:function(){this.router.navigate("addCharacter",!0)},render:function(){return this.$el.append(_.template(r,{})),this.$("#characterTable").append(this.listView.render().$el),this}});return s});